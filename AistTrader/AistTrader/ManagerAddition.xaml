<Window x:Class="AistTrader.ManagerAddition"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Name="StratSettings"
        Title="Aist Trader - Add agent or group of agents"
        ResizeMode="NoResize"
        mc:Ignorable="d"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:xaml="http://schemas.stocksharp.com/xaml"
		Height="359.2"
        Width="285"
        Icon="Resources/Images/mainIcon.ico"
        WindowStartupLocation="CenterScreen"
        FontFamily="Consolas"
        xmlns:sx="clr-namespace:StockSharp.Xaml;assembly=StockSharp.Xaml"
        >
    <Grid Margin="1,0,1,12">
        <Grid.Resources>
            <Style TargetType="{x:Type ComboBox}">
                <Style.Triggers>
                    <Trigger Property="Validation.HasError" Value="true">
                        <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
            <Style TargetType="{x:Type xaml:UnitEditor}">
                <Style.Triggers>
                    <Trigger Property="Validation.HasError" Value="true">
                        <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
            <Style TargetType="{x:Type xaml:SecurityEditor}">
                <Style.Triggers>
                    <Trigger Property="Validation.HasError" Value="true">
                        <Setter Property="ToolTip" Value="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
        </Grid.Resources>

        <Label Content="Select a portfolio"
               Height="25"
               HorizontalContentAlignment="Left"
               Margin="1,0,0,0"
               VerticalAlignment="Top"
               HorizontalAlignment="Left"/>
        <Label Content="Select agent or group of agents"
               Height="26"
               HorizontalContentAlignment="Left"
               Margin="1,53,0,0"
               VerticalAlignment="Top"
               HorizontalAlignment="Left"
               Width="228" />
        <Label Content="Security:" 
               Height="25"
               HorizontalContentAlignment="Left"
               Margin="1,160,0,0"
               VerticalAlignment="Top"
               HorizontalAlignment="Left" />
        <Label Content="Amount"
               Height="25"
               HorizontalContentAlignment="Left"
               Margin="1,217,0,0"
               VerticalAlignment="Top"
               HorizontalAlignment="Left"
               Name="AmountLbl" />
        <Label x:Name="UnitVolumeLabel"
               HorizontalAlignment="Left"
               Margin="125,196,0,0"
               VerticalAlignment="Top"
               Width="116"
               Height="26"/>
        <ComboBox Height="22"
                  Text="{Binding Path=Portfolio, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                  Margin="5,25,5,0" 
                  Name="PortfolioComboBox" 
                  VerticalAlignment="Top" 
                  TabIndex="0" 
                  SelectionChanged="PortfolioComboBox_OnSelectionChanged"
                  x:FieldModifier="private"
                  SelectedItem="{Binding Path=SelectedPortfolio}"
                  />
        <ComboBox Height="22"
                  Text="{Binding Path=GroupOrSingleAgent, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                  Margin="5,79,5,0"
                  x:Name="GroupOrSingleAgentComboBox"
                  SelectionChanged="GroupOrSingleAgentComboBox_OnSelectionChanged"
                  VerticalAlignment="Top"
                  SelectedItem="{Binding Path= SelectedGroupOrSingleAgent}"
                  TabIndex="1"  
                  x:FieldModifier="private"/>
        <!--<ComboBox Height="22"
                  Text="{Binding Path=Tools, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                  Margin="5,137,5,0"
                  x:Name="ToolComboBox"
                  MouseDown="ToolComboBox_OnMouseDown"
                  VerticalAlignment="Top"
                  Loaded="ToolComboBox_OnLoaded"
                  TabIndex="4"  
                  x:FieldModifier="private"/>-->
        <sx:SecurityEditor
            Name="SecurityPickerSS"
            Margin="5,185,5,0" Height="28" VerticalAlignment="Top" TabIndex="2"
            SelectedSecurity="{Binding  Path=Tools, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
            SecuritySelected="SecurityPicker_OnSecuritySelected"
                           
            />
        <xaml:UnitEditor HorizontalAlignment="Left" 
                         Height="22" 
                         Text="{Binding Path=Amount, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                         Margin="5,243,0,0" 
                         TextWrapping="Wrap"
                         VerticalAlignment="Top"
                         Width="115"
                         TabIndex="3"
                         TextChanged="AmountTextBox_OnTextChanged"
                         Name="AmountTextBox"
                         Style="{StaticResource {x:Type xaml:UnitEditor}}"
                         />
        <Button Content="ОК"
                HorizontalAlignment="Right"
                Name="OkBtnClick"
                Margin="0,0,85,8"
                Width="75"
                Click="AddAgentInAgentManagerBtnClick"
                TabIndex="4" 
                IsDefault="True" Height="23" VerticalAlignment="Bottom" 
                IsEnabled="True"
                />
        <Button Content="Отмена" 
                HorizontalAlignment="Right"
                Margin="0,0,5,8" 
                Width="75"
                TabIndex="5" 
                IsCancel="True"
                Height="23" VerticalAlignment="Bottom" />
        <Label x:Name="AliasLbl" Content="Alias" HorizontalAlignment="Left" Margin="5,107,0,0" VerticalAlignment="Top"/>
        <TextBox x:Name="AliasTxtBox" Height="23" Margin="5,133,5,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top"/>
    </Grid>
</Window>

